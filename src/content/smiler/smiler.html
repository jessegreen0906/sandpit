<!-- build:section recursive template.header -->
<!-- /build -->
<style>
	.falseImage {
		height: 400px;
		width: 400px;
		background: white;
		position: relative;
	}
	.imageBlock {
		height: 400px;
		width: 400px;
		background: white;
		position: relative;
		overflow: hidden;
	}
	
	.imageBlock img {
		height:100%;
		width:100%;
		position: absolute;
		transition: opacity 1.5s ease-in-out;
	}
	.head {
		height: 50%;
		width: 30%;
		position: relative;
		top:25%;
		left:35%;
		border-radius: 50%;
		background: brown;
	}
	.smile {
		height: 15%;
		width: 30%;
		position: relative;
		left: 35%;
		border-radius: 30px/0%;
		background: red;
	}
	#smile-ctrl {
		width: 380px;
	}
	
	#layer-ctrl {
		width: 380px;
	}
	
	.trnsprntLay {
		opacity: 0;
		width: 100%;
		height: 100%;
		position:absolute;
		top: 0;
		transition: opacity 1.5s ease-in-out;
	}
	
	#layer1 {
		background-color: #2a6496;
		z-index: 10;
	}
	#layer2 {
		background-color: yellow;
		z-index: 20;
	}
	#layer3 {
		background-color: purple;
		z-index: 30;
	}
	#layer4 {
		background-color: black;
		z-index: 40;
	}
	#smile {
		z-index: 100;
		position: absolute;
		top: 47%;
		left: 38%;
		height: 39px;
		width: 20.5%;
	}
	#hair {
		z-index: 20;
		opacity: 0;
	}
	#hat {
		z-index: 30;
		opacity: 0;
	}
	#beer {
		z-index: 40;
		opacity: 0;
	}
	#flag {
		z-index: 1;
		opacity: 0;
	}
	#main-pic {
		z-index: 5;
	}
	.imageBlock img.seuss {
		height: 50%;
		width: 50%;
		position:absolute;
		opacity: 0;
		transition-delay: 1s;
		transition-property: all;
		transition-timing-function: ease-in-out;
	}
	#two-ish-1 {
		right: 10%;
	}
	#two-ish-2 {
		right: 10%;
	}
	#red-ish {
		bottom:0;
	}
	#blue-ish {
		bottom:0;
		right: 0;
	}
	#overlay {
		opacity: 0;
		background-color: dimgray;
		color: white;
		width:100%;
		height:100%;
		z-index: 900;
		position:absolute;
		transition: opacity 1s ease-in-out;
	}
	#overlay span {
		display: inline-block;
		margin: auto;
		justify-content: center;
		vertical-align: middle;
		width: 100%;
		height: 100%;
		text-align: center;
		line-height: 200px;
		font-size: 4rem;
	}
	#reset-btn{
		display:none;
	}
</style>
<div class="imageBlock">
	<img id="main-pic" src="../../assets/img/ish/main.png" />
	<img id="two-ish-1" class="seuss" src="../../assets/img/ish/main.png" />
	<img id="two-ish-2" class="seuss" src="../../assets/img/ish/main.png" />
	<img id="red-ish" class="seuss" src="../../assets/img/ish/main.png" />
	<img id="blue-ish" class="seuss" src="../../assets/img/ish/main.png" />
	<img id="smile" src="../../assets/img/ish/min-smile.png" />
	<img id="hat" src="../../assets/img/ish/hat.png" />
	<img id="hair" src="../../assets/img/ish/hair.png" />
	<img id="beer" src="../../assets/img/ish/beer.png" />
	<img id="flag" src="../../assets/img/ish/flag.png" />
	<div id="overlay"></div>
</div>
<!--<div class="falseImage">-->
	<!--<div class="head"></div>-->
	<!--<div class="smile"></div>-->
	<!--<div id="layer1" class="trnsprntLay"></div>-->
	<!--<div id="layer2" class="trnsprntLay"></div>-->
	<!--<div id="layer3" class="trnsprntLay"></div>-->
	<!--<div id="layer4" class="trnsprntLay"></div>-->
<!--</div>-->
<h2>Smile adjuster</h2>
<input type="range" id="smile-ctrl" min="0" max="100" step="0.01" value="0" list="smile-ctrl-label"/>
<datalist id="smile-ctrl-label">
	<option value="0" label="A little" />
	<option value="50" label="A fair bit" />
	<option value="100" label="A whole lot" />
</datalist>
<br />
<h2>Germanification simulator</h2>
<input type="range" id="layer-ctrl" min="0" max="100" step="0.01" value="0" list="layer-ctrl-label"/>
<datalist id="layer-ctrl-label">
	<option value="0" label="A little" />
	<option value="50" label="A fair bit" />
	<option value="100" label="A whole lot" />
</datalist>
<h2>Seussifier</h2>
<button id="seuss-btn" value="Click for a bad joke">Click here</button>
<button id="reset-btn" value="Click for a bad joke">Reset</button>
<script>
	$(document).on('input', '#smile-ctrl', function () {
		updateSmile();
	});
	$(document).on('input', '#layer-ctrl', function () {
		updateLayer();
	});
	$(document).on('click', '#seuss-btn', function () {
		seussify();
	});
	$(document).on('click', '#reset-btn', function () {
		reset();
	});
	function seussify() {
		console.log('Firing');
		$('#smile').css('transition', 'opacity 0s linear');
		$('#smile').css('opacity', '0');
		$('#main-pic').css('transition', '2s linear');
		$('#main-pic').css('width', '50%');
		$('#main-pic').css('height', '50%');
		$('#overlay').css('opacity', '0.7');
		$('#overlay').html('<span>ONE ISH</span>');
		setTimeout(function () {
			$('#two-ish-1').css('opacity','1');
			$('#two-ish-2').css('opacity', '1');
			$('#overlay').html('<span>TWO ISH</span>');
		}, 2000);
		setTimeout(function() {
			$('#two-ish-1').css('right', '-10%');
		},3000);
		setTimeout(function () {
			$('#red-ish').css('opacity', '1').css('background-color', 'red');
		},4000);
		setTimeout(function () {
			$('#blue-ish').css('opacity', '1').css('background-color', 'blue');
			$('#overlay').html('<span>RED ISH</span>');
		},5000);
		setTimeout(function () {
			$('#overlay').html('<span>BLUE ISH</span>');
		},6500);
		setTimeout(function () {
			$('#overlay').css('opacity', '0');
		},7500);
		setTimeout(function () {
			$('#seuss-btn').css('display', 'none');
			$('#reset-btn').css('display', 'inline-block');
		},8500);
	}
	function reset() {
		$('#reset-btn').css('display', 'none');
		$('#seuss-btn').css('display', 'inline-block');
		$('.seuss').css('opacity','0');
		$('.seuss').css('background-color', 'transparent');
		$('#main-pic').css('height', '100%');
		$('#main-pic').css('width', '100%');
		setTimeout(function () {
			$('#smile').css('opacity', '1');
		},2000)
	}
	function updateSmile() {
		var startingWidth = 20.5;
		var startingLeft = 38;
		var break1 = 20.5;
		var break2 = 15;
		var break3 = 60;
		var currValue = $('#smile-ctrl').val();
		console.log('Updating smile');
		console.log(currValue);
		//Update border radius;
		if(currValue >= break2){
			var radVal = (100/(break3 - break2))*(currValue-break2);
			var radVal2 = (70/(break3 - break2))*(currValue-break2);
			if(radVal <= 100) {
				$('#smile').css('border-radius', radVal2+'%/'+radVal+'%');
			}
		}
		if(currValue < break2) {
			$('#smile').css('border-radius', '0');
		}
		//Update width;
		if (currValue > break1 && currValue <= break3) {
			var lVal = startingLeft - (currValue - break1) / 2;
			var wVal = startingWidth - break1 + currValue;
		} else if (currValue > break3) {
			var wVal = (currValue-break3)/2 + break3;
			var lVal = startingLeft - (break3 - break1) / 2 - (currValue - break3)/4;
		}
		$('#smile').width(wVal+'%');
		$('#smile').css('left', lVal+'%');
		
		
	}
	
	function updateLayer() {
		var currValue = $('#layer-ctrl').val();
		var bp1 = 20;
		var bp2 = 40;
		var bp3 = 60;
		var bp4 = 80;
		if(currValue < bp1) {
			$('#hat').css('opacity', '0');
		} else if (currValue >= bp1 && currValue < bp2) {
			$('#hair').css('opacity', '0');
			$('#hat').css('opacity', '1');
		} else if (currValue >= bp2 && currValue < bp3) {
			$('#beer').css('opacity', '0');
			$('#hair').css('opacity', '1');
		} else if (currValue >= bp3 && currValue < bp4) {
			$('#flag').css('opacity', '0');
			$('#beer').css('opacity', '1');
		} else {
			$('#flag').css('opacity', '1');
		}
	}
</script>
<!-- build:section recursive template.footer -->
<!-- /build -->
